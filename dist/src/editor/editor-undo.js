"use strict"
define(["mathlive/editor/editor-editableMathlist"],function(){function t(t){this.mathlist=t,this.stack=[],this.index=-1,this.maximumDepth=1e3}return t.prototype.canUndo=function(){return this.index>=0},t.prototype.canRedo=function(){return this.index!==this.stack.length-1},t.prototype.undo=function(){this.canUndo()&&(this.mathlist.selectAll_(),this.mathlist.insert(this.stack[this.index].latex),this.mathlist.setPath(this.stack[this.index].selection),this.index-=1)},t.prototype.redo=function(){this.canRedo()&&(this.index+=1,this.mathlist.selectAll_(),this.mathlist.insert(this.stack[this.index].latex),this.mathlist.setPath(this.stack[this.index].selection))},t.prototype.snapshot=function(){this.stack.splice(this.index+1,this.index.length-this.index-1),this.stack.push({latex:this.mathlist.root.toLatex(),selection:""+this.mathlist}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift()},{UndoManager:t}})
