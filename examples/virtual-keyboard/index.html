<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Virtual Keyboard Example</title>
  <link rel="stylesheet" href="../style.css" />
</head>

<body>
  <header>
    <h1>Virtual Keyboard Example</h1>
  </header>
  <main>
    <p>Press the Virtual Keyboard icon to show a custom virtual
    keyboard.</p>
    <math-field class="mathfield" id="mf" style="width:100%">\frac{\pi}{2}</math-field>
    <p>This mathfield is configured to automatically show the default virtual keyboard on focus.</p>
    <math-field virtual-keyboard-mode="onfocus" class="mathfield" id="mf2" style="width:100%">\frac{\pi}{2}</math-field>

    <!-- <math-field class="mathfield" id="mf-2" style="width:100%">\frac{\pi}{4}</math-field> -->
<!-- 
    <math-field class="mathfield" id="mf-3"     
      virtual-keyboard-mode="onfocus"
      use-shared-virtual-keyboard
      style="width:100%">\frac{\pi}{8}</math-field> -->

  </main>
  <footer>
    <a href="https://github.com/arnog/mathlive/tree/master/examples/basic"><svg class="fa-w-24" height="24px"
        style="vertical-align: -3px; margin-right: 6px;">
        <use xlink:href="../icons.svg#github" />
      </svg>View source&nbsp;<svg class="fa-w-24" height="24px">
        <use xlink:href="../icons.svg#angle-right" />
      </svg></a>
    <a href="../">More examples&nbsp;<svg class="fa-w-24" height="24px">
        <use xlink:href="../icons.svg#angle-right" />
      </svg></a>
    <a href="/">Return to the homepage&nbsp;<svg class="fa-w-24" height="24px">
        <use xlink:href="../icons.svg#angle-right" />
      </svg></a>
  </footer>


  <script type="module">
    import { MathfieldElement,  makeSharedVirtualKeyboard } from '/dist/mathlive.mjs';
    const HIGH_SCHOOL_KEYBOARD_LAYER = {
      "high-school-layer": {
        styles: "",
        rows: [
          [
            { latex: "a" },
            { latex: "x" },
            { class: "separator w5" },
            { label: "7", key: "7" },
            // Will display the label using the system font. To display 
            // with the TeX font, use:
            // { class: "tex", label: "7", key: "7" },
            // or 
            // { latex: "7"},
            { label: "8", key: "8" },
            { label: "9", key: "9" },
            { latex: "\\div" },
            { class: "separator w5" },
            {
              class: "tex small",
              label: "<span><i>x</i>&thinsp;Â²</span>",
              insert: "$$#@^{2}$$"
            },
            {
              class: "tex small",
              label: "<span><i>x</i><sup>&thinsp;<i>n</i></sup></span>",
              insert: "$$#@^{}$$"
            },
            {
              class: "small",
              latex: "\\sqrt{#0}",
              insert: "$$\\sqrt{#0}$$",
            }
          ],
          [
            { class: "tex", latex: "b" },
            { class: "tex", latex: "y" },
            { class: "separator w5" },
            { label: "4", latex:"4" },
            { label: "5", key: "5" },
            { label: "6", key: "6" },
            { latex: "\\times" },
            { class: "separator w5" },
            { class: "small", latex: "\\frac{#0}{#0}" },
            { class: "separator" },
            { class: "separator" }
          ],
          [
            { class: "tex", label: "<i>c</i>" },
            { class: "tex", label: "<i>z</i>" },
            { class: "separator w5" },
            { label: "1", key: "1" },
            { label: "2", key: "2" },
            { label: "3", key: "3" },
            { latex: "-" },
            { class: "separator w5" },
            { class: "separator" },
            { class: "separator" },
            { class: "separator" }
          ],
          [
            { latex: "(" },
            { latex: ")" },

            { class: "separator w5" },
            { label: "0", key: "0" },
            { latex: "." },
            { latex: "\\pi" },
            { latex: "+" },
            { class: "separator w5" },
            {
              class: "action",
              label: "<svg><use xlink:href='#svg-arrow-left' /></svg>",
              command: ["performWithFeedback", "moveToPreviousChar"]
            },
            {
              class: "action",
              label: "<svg><use xlink:href='#svg-arrow-right' /></svg>",
              command: ["performWithFeedback", "moveToNextChar"]
            },
            {
              class: "action font-glyph bottom right",
              label: "&#x232b;",
              command: ["performWithFeedback", "deleteBackward"]
            }
          ]
        ]
      }
    };
    const HIGH_SCHOOL_KEYBOARD = {
      "high-school-keyboard": {
        "label": "High School", // Label displayed in the Virtual Keyboard Switcher
        "tooltip": "High School Level", // Tooltip when hovering over the label
        "layer": "high-school-layer"
      }
    };
    const mf = document.getElementById('mf');
    mf.setOptions({
      virtualKeyboardMode: "manual",
      customVirtualKeyboardLayers: HIGH_SCHOOL_KEYBOARD_LAYER,
      customVirtualKeyboards: HIGH_SCHOOL_KEYBOARD,
      virtualKeyboards: "numeric high-school-keyboard"
    });

    // const mf3 = document.getElementById('mf-3');

    // makeSharedVirtualKeyboard({});


  </script>
</body>

</html>