<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="styles/custom.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav id="nav">
    <h3 class="group-title"><a href="index.html">&#x3C; Home &#x3E;</a></h3><input class="search" placeholder="Search" type="text"><div class="list"><h3 class="group-title">Classes</h3><ul><li><a href="Context.html" class="className">Context</a><ul class='methods'><li data-type='method'><a href="Context.html#clone" class="methodName">clone</a></li><li data-type='method'><a href="Context.html#cloneWith" class="methodName">cloneWith</a></li><li data-type='method'><a href="Context.html#setMathstyle" class="methodName">setMathstyle</a></li><li data-type='method'><a href="Context.html#withIsSelected" class="methodName">withIsSelected</a></li><li data-type='method'><a href="Context.html#withMathstyle" class="methodName">withMathstyle</a></li></ul></li><li><a href="module-editor_editableMathlist.EditableMathlist.html" class="className">EditableMathlist</a><ul class='methods'><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#ancestor" class="methodName">ancestor</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#anchor" class="methodName">anchor</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#commandOffsets" class="methodName">commandOffsets</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#commitCommandStringBeforeInsertionPoint" class="methodName">commitCommandStringBeforeInsertionPoint</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#contains" class="methodName">contains</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#decorateCommandStringAroundInsertionPoint" class="methodName">decorateCommandStringAroundInsertionPoint</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#delete" class="methodName">delete</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#delete_" class="methodName">delete_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#endOffset" class="methodName">endOffset</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extend" class="methodName">extend</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extract" class="methodName">extract</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extractCommandStringAroundInsertionPoint" class="methodName">extractCommandStringAroundInsertionPoint</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extractContents" class="methodName">extractContents</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extractContentsOrdInGroupBeforeInsertionPoint" class="methodName">extractContentsOrdInGroupBeforeInsertionPoint</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#extractGroupStringBeforeInsertionPoint" class="methodName">extractGroupStringBeforeInsertionPoint</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#filter" class="methodName">filter</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#insert" class="methodName">insert</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#insertFirstAtom" class="methodName">insertFirstAtom</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#isCollapsed" class="methodName">isCollapsed</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#jump" class="methodName">jump</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#leap" class="methodName">leap</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#moveToOpposite_" class="methodName">moveToOpposite_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#moveToSubscript_" class="methodName">moveToSubscript_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#moveToSuperscript_" class="methodName">moveToSuperscript_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#next" class="methodName">next</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#selectAll_" class="methodName">selectAll_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#selectGroup_" class="methodName">selectGroup_</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#setExtent" class="methodName">setExtent</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#setRange" class="methodName">setRange</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#setSelection" class="methodName">setSelection</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#sibling" class="methodName">sibling</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#siblings" class="methodName">siblings</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#skip" class="methodName">skip</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#startOffset" class="methodName">startOffset</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#toString" class="methodName">toString</a></li><li data-type='method'><a href="module-editor_editableMathlist.EditableMathlist.html#transpose_" class="methodName">transpose_</a></li></ul></li><li><a href="module-editor_mathfield.MathField.html" class="className">MathField</a><ul class='methods'><li data-type='method'><a href="module-editor_mathfield.MathField.html#_getCaretPosition" class="methodName">_getCaretPosition</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#_onKeystroke" class="methodName">_onKeystroke</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#complete_" class="methodName">complete_</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#config" class="methodName">config</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#enterCommandMode_" class="methodName">enterCommandMode_</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#keystroke" class="methodName">keystroke</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#latex" class="methodName">latex</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#text" class="methodName">text</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#typedText" class="methodName">typedText</a></li><li data-type='method'><a href="module-editor_mathfield.MathField.html#write" class="methodName">write</a></li></ul></li><li><a href="module-lexer.Lexer.html" class="className">Lexer</a><ul class='methods'><li data-type='method'><a href="module-lexer.Lexer.html#end" class="methodName">end</a></li><li data-type='method'><a href="module-lexer.Lexer.html#get" class="methodName">get</a></li><li data-type='method'><a href="module-lexer.Lexer.html#isWhiteSpace" class="methodName">isWhiteSpace</a></li><li data-type='method'><a href="module-lexer.Lexer.html#makeToken" class="methodName">makeToken</a></li><li data-type='method'><a href="module-lexer.Lexer.html#peek" class="methodName">peek</a></li><li data-type='method'><a href="module-lexer.Lexer.html#scan" class="methodName">scan</a></li></ul></li><li><a href="module-lexer.Token.html" class="className">Token</a></li><li><a href="module-mathAtom.MathAtom.html" class="className">MathAtom</a><ul class='methods'><li data-type='method'><a href="module-mathAtom.MathAtom.html#bind" class="methodName">bind</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#decompose" class="methodName">decompose</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#decomposeGenfrac" class="methodName">decomposeGenfrac</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#decomposeLeftright" class="methodName">decomposeLeftright</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#decomposeLine" class="methodName">decomposeLine</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#filter" class="methodName">filter</a></li><li data-type='method'><a href="module-mathAtom.MathAtom.html#makeSpan" class="methodName">makeSpan</a></li></ul></li><li><a href="module-parser.Parser.html" class="className">Parser</a><ul class='methods'><li data-type='method'><a href="module-parser.Parser.html#hasToken" class="methodName">hasToken</a></li><li data-type='method'><a href="module-parser.Parser.html#lastMathAtom" class="methodName">lastMathAtom</a></li><li data-type='method'><a href="module-parser.Parser.html#parseAtom" class="methodName">parseAtom</a></li><li data-type='method'><a href="module-parser.Parser.html#parseKeyword" class="methodName">parseKeyword</a></li><li data-type='method'><a href="module-parser.Parser.html#parseLimits" class="methodName">parseLimits</a></li><li data-type='method'><a href="module-parser.Parser.html#parseSupSub" class="methodName">parseSupSub</a></li><li data-type='method'><a href="module-parser.Parser.html#parseToken" class="methodName">parseToken</a></li><li data-type='method'><a href="module-parser.Parser.html#scanArg" class="methodName">scanArg</a></li><li data-type='method'><a href="module-parser.Parser.html#scanColor" class="methodName">scanColor</a></li><li data-type='method'><a href="module-parser.Parser.html#scanDimen" class="methodName">scanDimen</a></li><li data-type='method'><a href="module-parser.Parser.html#scanEnvironment" class="methodName">scanEnvironment</a></li><li data-type='method'><a href="module-parser.Parser.html#scanGroup" class="methodName">scanGroup</a></li><li data-type='method'><a href="module-parser.Parser.html#scanImplicitGroup" class="methodName">scanImplicitGroup</a></li><li data-type='method'><a href="module-parser.Parser.html#scanLeftRight" class="methodName">scanLeftRight</a></li><li data-type='method'><a href="module-parser.Parser.html#scanModeSet" class="methodName">scanModeSet</a></li><li data-type='method'><a href="module-parser.Parser.html#scanModeShift" class="methodName">scanModeShift</a></li><li data-type='method'><a href="module-parser.Parser.html#scanNumber" class="methodName">scanNumber</a></li><li data-type='method'><a href="module-parser.Parser.html#scanString" class="methodName">scanString</a></li><li data-type='method'><a href="module-parser.Parser.html#scanToken" class="methodName">scanToken</a></li></ul></li><li><a href="module-span.Span.html" class="className">Span</a><ul class='methods'><li data-type='method'><a href="module-span.Span.html#setStyle" class="methodName">setStyle</a></li><li data-type='method'><a href="module-span.Span.html#toMarkup" class="methodName">toMarkup</a></li><li data-type='method'><a href="module-span.Span.html#tryCoalesceWith" class="methodName">tryCoalesceWith</a></li><li data-type='method'><a href="module-span.Span.html#updateDimensions" class="methodName">updateDimensions</a></li></ul></li></ul><h3 class="group-title">Modules</h3><ul><li><a href="module-color.html" class="className">color</a><ul class='methods'><li data-type='method'><a href="module-color.html#.stringToColor" class="methodName">stringToColor</a></li></ul></li><li><a href="module-delimiters.html" class="className">delimiters</a><ul class='methods'><li data-type='method'><a href="module-delimiters.html#.makeCustomSizedDelim" class="methodName">makeCustomSizedDelim</a></li><li data-type='method'><a href="module-delimiters.html#.makeInner" class="methodName">makeInner</a></li><li data-type='method'><a href="module-delimiters.html#.makeLargeDelim" class="methodName">makeLargeDelim</a></li><li data-type='method'><a href="module-delimiters.html#.makeLeftRightDelim" class="methodName">makeLeftRightDelim</a></li><li data-type='method'><a href="module-delimiters.html#.makeNullFence" class="methodName">makeNullFence</a></li><li data-type='method'><a href="module-delimiters.html#.makeSizedDelim" class="methodName">makeSizedDelim</a></li><li data-type='method'><a href="module-delimiters.html#.makeSmallDelim" class="methodName">makeSmallDelim</a></li><li data-type='method'><a href="module-delimiters.html#.makeStackedDelim" class="methodName">makeStackedDelim</a></li><li data-type='method'><a href="module-delimiters.html#.traverseSequence" class="methodName">traverseSequence</a></li></ul></li><li><a href="module-editor_commands.html" class="className">editor_commands</a><ul class='methods'><li data-type='method'><a href="module-editor_commands.html#.suggest" class="methodName">suggest</a></li></ul></li><li><a href="module-editor_editableMathlist.html" class="className">editor_editableMathlist</a><ul class='methods'><li data-type='method'><a href="module-editor_editableMathlist.html#.atomContains" class="methodName">atomContains</a></li></ul></li><li><a href="module-editor_mathfield.html" class="className">editor_mathfield</a><ul class='methods'><li data-type='method'><a href="module-editor_mathfield.html#_findElementWithCaret" class="methodName">_findElementWithCaret</a></li><li data-type='method'><a href="module-editor_mathfield.html#nearestElementFromPoint" class="methodName">nearestElementFromPoint</a></li></ul></li><li><a href="module-fontMetrics.html" class="className">fontMetrics</a><ul class='methods'><li data-type='method'><a href="module-fontMetrics.html#.getCharacterMetrics" class="methodName">getCharacterMetrics</a></li></ul></li><li><a href="module-lexer.html" class="className">lexer</a><ul class='methods'><li data-type='method'><a href="module-lexer.html#.tokenize" class="methodName">tokenize</a></li></ul></li><li><a href="module-mathAtom.html" class="className">mathAtom</a><ul class='methods'><li data-type='method'><a href="module-mathAtom.html#.decompose" class="methodName">decompose</a></li><li data-type='method'><a href="module-mathAtom.html#.getFontName" class="methodName">getFontName</a></li><li data-type='method'><a href="module-mathAtom.html#.makeColGap" class="methodName">makeColGap</a></li><li data-type='method'><a href="module-mathAtom.html#.makeColOfRepeatingElements" class="methodName">makeColOfRepeatingElements</a></li><li data-type='method'><a href="module-mathAtom.html#.makeStack" class="methodName">makeStack</a></li></ul></li><li><a href="module-mathstyle.html" class="className">mathstyle</a><ul class='methods'><li data-type='method'><a href="module-mathstyle.html#.toMathstyle" class="methodName">toMathstyle</a></li></ul></li><li><a href="module-parser.html" class="className">parser</a><ul class='methods'><li data-type='method'><a href="module-parser.html#.hasImplicitGroupEnd" class="methodName">hasImplicitGroupEnd</a></li></ul></li><li><a href="module-span.html" class="className">span</a><ul class='methods'><li data-type='method'><a href="module-span.html#.coalesce" class="methodName">coalesce</a></li><li data-type='method'><a href="module-span.html#.makeFontSizer" class="methodName">makeFontSizer</a></li><li data-type='method'><a href="module-span.html#.makeHlist" class="methodName">makeHlist</a></li><li data-type='method'><a href="module-span.html#.makeSpan" class="methodName">makeSpan</a></li><li data-type='method'><a href="module-span.html#.makeSpanOfType" class="methodName">makeSpanOfType</a></li><li data-type='method'><a href="module-span.html#.makeSymbol" class="methodName">makeSymbol</a></li><li data-type='method'><a href="module-span.html#.makeVlist" class="methodName">makeVlist</a></li><li data-type='method'><a href="module-span.html#.toString" class="methodName">toString</a></li></ul></li></ul></div>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1 align="center">
    <br>
        <img src = "https://github.com/arnog/mathlive/blob/master/assets/logo-1024.jpg?raw=true">
    <br>
</h1>

<h1>MathLive Contributor Guide</h1><p>This guide is for developers who want to contribute to MathLive, 
or who want to understand more in depth how it works.
If you simply want to use MathLive with your web content, see the <a href="USAGE_GUIDE.md">MathLive Usage Guide</a>.</p>
<h2>Table of Contents</h2><ul>
<li><a href="#getting-started-setting-up-your-development-environment">Getting Started: Setting up Your Development Environment</a></li>
<li><a href="#code-structure">Code Structure</a></li>
<li><a href="#language-and-coding-style">Language and Coding Style</a></li>
<li><a href="#naming-convention">Naming Convention</a></li>
<li><a href="#browser-support">Browser Support</a></li>
<li><a href="#architecture">Architecture</a></li>
<li><a href="#files">Files</a></li>
<li><a href="#common-tasks">Common Tasks</a></li>
</ul>
<h2>Getting Started: Setting up Your Development Environment</h2><p>The project uses <a href="https://docs.npmjs.com/misc/scripts">NPM scripts</a> 
 for its build system. The <code>package.json</code> 
file contains the definitions of the build scripts.</p>
<p>To get started developing:</p>
<ol>
<li>Install <a href="http://nodejs.org">Node.js</a> on your dev machine</li>
<li>Clone the project repo to a <code>mathlive/</code> directory</li>
<li>Run:<pre class="prettyprint source lang-bash"><code>$ cd &lt;you local path>/mathlive
$ npm install</code></pre>This will install in the <code>mathlive/</code> directory all the Node modules to build and test the MathLive and its documentation.</li>
</ol>
<p>Depending on your system setup, you may need to run as admin, in which case
use <code>sudo npm install</code>.</p>
<p>Once the installation is succesful, you can use the following commands:</p>
<pre class="prettyprint source lang-bash"><code># Build the project for local use
# 1. Compiles the css/*.less file to build/*.css
# 2. &quot;npm run lint&quot; on the .js files
# 3. &quot;npm run docs&quot; to generate the documentation
# 4. &quot;npm test&quot; to run the test scripts
$ npm run build

# Watch and auto re-build the project
# Watch for changed files, and does &quot;npm run build&quot;
$ npm run dev

# Run test scripts
$ npm test

# In-depth linting
# More comprehensive linting than the one done as part of &quot;build&quot;
# Includes linting of the JSDoc comment blocks
$ npm run lint

# Calculate the code coverage and output to build/coverage/
$ npm run coverage

# Build the documentation file to buid/docs/
$ npm run docs

# Builds, then transpile, minimize and bundle to dist/
$ npm run dist

# Clean up (deletes) the contents of the /build and /dist directories
$ npm run clean

# Increase the version number of the library
# Only do this before making a new public distribution
$ npm version major | minor | patch |</code></pre><h2>Code Structure</h2><p>The MathLive library consists of the following key directories:</p>
<ul>
<li><code>css/</code> the stylesheets and fonts used by MathLive</li>
<li><code>src/core</code> the core Javascript code needed to render math. This module depends on the <code>css/</code> module.</li>
<li><code>src/editor</code> the Javascript code needed for the editor. This module depends
on the <code>src/core</code> module.</li>
<li><code>src/addons</code> some optional modules that provide additional functionality</li>
</ul>
<p>You can include only the files you need. For example, if you only
need to display math, you can skip <code>src/editor/</code> and <code>src/addons</code>.</p>
<p>In addition, the <code>build/</code> and <code>dist/</code> directories contain output generated from
the <code>css/</code> and <code>src/</code> directories:</p>
<ul>
<li>the <code>build/</code> directory should only contain intermediary build results. These
intermediary results can be used for debugging during development, but are
not suitable for distribution. For example, a <code>.css</code> file generated from a 
<code>.less</code> file would be appropriate. However, a transpiled or minified <code>.js</code> 
file would not.</li>
<li>the <code>dist/</code> directory should only contain the build results that are ready
to be distributed. The files in this directory should be transpiled (for <code>.js</code> 
files), autoprefixed (for <code>.css</code> files), minimized and bundled.</li>
</ul>
<p>Aside from the <code>buid/</code> and <code>src/</code> directories, there should be no location
containing intermediate files generated as part of the build process.</p>
<h2>Language and Coding Style</h2><p>MathLive is written in Javascript, using the [ES2016 dialect]
(https://www.ecma-international.org/ecma-262/7.0/). This includes
in particular features such as:</p>
<ul>
<li><code>let</code> and <code>const</code> instead of <code>var</code></li>
<li>block-scoped variables and functions</li>
<li><code>Array.prototype.includes()</code></li>
<li><code>Object.assign()</code></li>
<li>arrow functions (to a limited extent, there appears to be issues with transpilers)</li>
<li>template strings</li>
<li><code>for...of</code> iterators</li>
<li>string searching <code>String.startsWith()</code>, <code>tring.endsWith()</code></li>
<li>number formatting</li>
</ul>
<p>Features that have not been adopted include:</p>
<ul>
<li>classes. The syntax doesn't seem to offer that much benefit and forces 
utility functions to be separated from methods that use them.</li>
<li>getters/setters: would probably be a good idea</li>
<li>destructuring: probably somes opportunities to simply some code</li>
<li>default parameters: would clean up some code</li>
<li>rest/spread</li>
<li>generators</li>
</ul>
<p>Before publishing, the code is ran through <a href="https://babeljs.io">Babel</a>, which 
transpiles it to ES5 for compatibility with browsers that don't support all
those features</p>
<p>The code base attempts to follow these general guidelines:</p>
<ul>
<li><strong>Consistency</strong> All code in the codebase should look as if it had been 
written by a single person. Don't write code for yourself, but for the many 
people who will read it later.</li>
<li><strong>Clarity before performance</strong> Write code that is easy to read, and avoid 
obscure constructs that may obfuscate the code to improve performance. For 
example, RegEx are crazy fast in all modern browsers, and trying to roll out
your own pattern matching will result in more code and less performance. If 
you think something could be made faster, use <code>jsperf.com</code> to try out options
in various browsers and compare the results. You might be surprised.</li>
</ul>
<p>Use the <code>.eslintrc.json</code> file to follow the linting conventions used in the 
project. In addition, follow these guidelines:</p>
<ul>
<li><strong>Tabs</strong> are expanded to <strong>four spaces</strong></li>
<li>Quotes are preferably <strong>single quotes</strong>. Use double-quotes when inside a 
single-quoted string. Using backtick (template strings)for multiline
quotes is OK.</li>
<li><strong>Typecheck</strong> using <code>typeof v === 'string'</code>, <code>typeof v === 'number'</code>, etc... 
Use <code>Array.isArray(v)</code> to check for arrays.</li>
<li><strong>Conditional evaluation</strong> Use conditional evaluation shortcuts when applicable
for example, use <code>if (string)</code> instead of <code>if (string !== '')</code></li>
<li>The return variable of a function is usually named <strong><code>result</code></strong></li>
<li>Avoid boolean as arguments. Instead, use an <code>options</code> Object that can have 
key value pairs spelling out the meaning of the boolean. Instead of <code>f(true);</code> 
you would have <code>f({reverse: true})</code>. </li>
<li>Use <code>||</code> for default values, for example <code>m = f(n) || d</code>. If the function
<code>f</code> returns <code>null</code>, <code>undefined</code> or an empty string, <code>m</code> will have the value <code>d</code></li>
<li><strong>Braces for control structures</strong> should always be used, except for short
<code>if</code> statement, for example <code>if (done) return;</code></li>
<li><strong>Avoid method chaining</strong> Method chaining is a programming style where a 
method returns the <code>this</code> object so that it can be called again. For example 
<code>div.css('color', 'white').height(50).width(50)</code>.</li>
<li><strong>Use loose typing</strong> For example, a function argument could accept a string
or an array and behave appropriately. For example:<pre class="prettyprint source lang-javascript"><code>  function f(argument) {
      if (Array.isArray(argument)) {
          argument = argument.join(';');
      }
  }</code></pre></li>
</ul>
<h2>Naming Convention</h2><p>Those naming conventions are particularly important for objects that are exposed
as part of the public API, such as <code>MathLive</code> and <code>MathField</code>.</p>
<ul>
<li>variables and function names that begin with <code>_</code> are private and should not
be used.</li>
<li>functions that end in '<em>' are selectors and should not be invoked directly.
Instead, a <code>MathField.perform()</code> call should be made. Note that the perform call
does not include the `</em><code>, so you would call</code>MathField.perform('selectAll')`.</li>
<li>functions that neither begin nor end with an <code>_</code> are public and can be called
directly.</li>
</ul>
<h2>Browser Support</h2><p>MathLive is designed for the modern web. Supporting older browsers complicates
the effort involved in building new features, but it is also an insecure 
practice that should not be encouraged. In this context, <em>modern</em> means the
latest release of Chrome, IE, Safari, Firefox. Both desktop and mobile are
supported.</p>
<h2>Architecture</h2><p>The core of MathLive is a renderer that can display complex math content
using HTML and CSS. This renderer uses the TeX layout algorithms because of 
their quality. Given the same input, MathLive will render pixel for pixel what 
TeX would have rendered.
To do so, it make use of a web version of the fonts used by TeX and which are
included in the <code>css/fonts/</code> directory.</p>
<p> Here are some of the key concepts used throughtout the code base.</p>
<h3>Span</h3><p>A span is an object that is used to represent an element displayed in the page:
a symbol such as <em>x</em> or <em>=</em>, an open brace, a line separating the numerator 
and denominator of a fraction, etc...</p>
<p>The basic layout strategy is to calculate the vertical placement of the spans and 
position them accordingly, while letting the HTML rendering engine position
and display the horizontal items. An exception is when some horizontal 
adjustment needs to be made, such as additional space between items, in which 
case CSS margin adjustments are made.</p>
<p><strong>Spans</strong> can be rendered to HTML markup with <code>Span.toMarkup()</code> before being 
displayed on the page.</p>
<h3>Math Atom</h3><p>An atom is an object encapsulating an elementary mathematical unit, indepdent of
its graphical representation. It can be of one of the following types:</p>
<ul>
<li><strong>ord</strong>: ordinary symbol, e.g. <em>x</em>, <em>\alpha</em></li>
<li><strong>bin</strong>: binary operator: <em>+</em>, <em>*</em>, etc...</li>
<li><strong>rel</strong>: relational operator: <em>=</em>, <em>\ne</em>, etc...</li>
<li><strong>punct</strong>: punctuation: <em>,</em>, <em>:</em>, etc...</li>
<li><strong>open</strong>: opening fence: <em>(</em>, <em>\langle</em>, etc...</li>
<li><strong>close</strong>: closing fence: <em>)</em>, <em>\rangle</em>, etc...</li>
<li><strong>op</strong>: (big) operators, <em>\sum</em>, <em>\cap</em>.</li>
<li><strong>inner</strong>: special layout cases, overlap</li>
<li><strong>accent</strong>: a diacritic mark above a symbol</li>
</ul>
<p>In addition to these basic types, which correspond to the TeX atom types,
some atoms represent more complex compounds, including:</p>
<ul>
<li><strong>space</strong> and <strong>spacing</strong>: blank space between atoms</li>
<li><strong>mathstyle</strong>: to change the math style used: <strong>display</strong> or <strong>text</strong>. The 
layout rules are different for each, the latter being more compact and intended
to be incorporated with surrounding non-math text.</li>
<li><strong>font</strong>: to change the font used. Used by <code>\mathbb</code>, <code>\mathbb</code>, etc...</li>
<li><strong>sizing</strong>: to change the size of the font used</li>
<li><strong>color</strong>: to change the foreground color</li>
<li><strong>rule</strong>: a line, for the <code>\rule</code> command</li>
<li><strong>line</strong>: used by <code>\overline</code> and <code>\underline</code> commands</li>
<li><strong>box</strong>: to draw a border around an expression and change its background color</li>
<li><strong>overlap</strong>: display a symbol <em>over</em> another</li>
<li><strong>overunder</strong>: displays an annotation above or below a symbold</li>
<li><strong>group</strong>: a simple group of atoms</li>
<li><strong>root</strong>: a group, which has no parent</li>
<li><strong>array</strong>: a group, which has children arranged in columns and rows. Used
by environments such as <code>matrix</code>, <code>cases</code>, etc...</li>
<li><strong>genfrac</strong>: a generalized fraction: a numerator and denominator, separated
by an optional line, and surrounded by optional fences</li>
<li><strong>surd</strong>: a surd, aka root</li>
<li><strong>leftright</strong>: used by the <code>\left</code> and <code>\right</code> commands</li>
<li><strong>delim</strong>: some delimiter</li>
<li><strong>sizeddelim</strong>: a delimiter that can grow</li>
</ul>
<p>The following types are used by the editor:</p>
<ul>
<li><strong>command</strong> indicate a command being entered. The text is displayed in 
blue in the editor.</li>
<li><strong>error</strong>: indicate a command that is unknown, for example <code>\xyzy</code>. The text
is displayed with a dotted red underline in the editor.</li>
<li><strong>placeholder</strong>: indicate a temporary item. Placeholders are displayed with a 
a pill (rounded box) in the editor.</li>
<li><strong>first</strong>: a special, empty, atom put as the first atom in math lists in 
order to more easily represent the cursor position. They are not displayed.</li>
</ul>
<h3>Math List</h3><p>A <strong>math list</strong> is simply an array of atoms. Although it's a common data 
structure there is no class to represent it: it's simply an <code>Array()</code> of <code>MathAtom</code>.</p>
<h3>Lexer</h3><p>The <strong>lexer</strong> converts a string of TeX code into tokens that can be digested
by the parser.</p>
<h3>Parser</h3><p>The <strong>parser</strong> turns a stream of tokens generated by the lexer into 
<strong>math atoms</strong>. Those atoms then can be rendered into <strong>spans</strong>, or back into 
LaTeX or into spoken text.</p>
<h3>Editable Math List</h3><p>An <strong>Editable Math List</strong> is a class specific to the editor and that
encapsulates the manipulations that can be done to a math list, including 
adding and removing content and keeping track of and modifying an insertion 
point and selection.</p>
<h2>Files</h2><p>Here's a brief guide to the files of the project:</p>
<ul>
<li><p><strong>mathlive.js</strong> The public API to Mathlive</p>
</li>
<li><p><strong>core/lexer.js</strong> Implements the <code>Lexer</code> class: strings to tokens</p>
</li>
<li><p><strong>core/parser.js</strong> Implements the <code>Parser</code> class: tokens to atoms</p>
</li>
<li><strong>core/definitions.js</strong> Dictionary of all the known LaTeX commands, and 
which symbol or atom type they map to. Used by the <code>Parser</code></li>
<li><p><strong>core/color.js</strong> Support to parse color arguments</p>
</li>
<li><p><strong>core/mathAtom.js</strong> Implements the <code>MathAtom</code> class: atoms to spans</p>
</li>
<li><strong>core.delimiters.js</strong> Rendering (atoms to span) for delimiters. </li>
<li><strong>core/context.js</strong> Rendering context of the current parse level (math style,
color, font size, font family, font style, etc...). Used by MathAtom while 
generating spans</li>
<li><strong>core/mathstyle.js</strong> Provides info about the <strong> math styles</strong>: display, text,
scripttext, scripscripttext and their tight variants.</li>
<li><strong>core/fontMetrics.js</strong> Provides glyph metrics: height above baseline, depth
below baseline, italic correction.</li>
<li><p><strong>core/fontMetricsData.js</strong> Used by <code>fontMetrics.js</code></p>
</li>
<li><p><strong>core/span.js</strong> Implements the <code>Span</code> class: spans to markup</p>
</li>
<li><p><strong>editor/editableMathlist.js</strong>: The <code>EditableMathlist</code> keeps track of a tree
of math atoms representing the math expression being edited, and a selection
with can either be <em>collapsed</em> (only the insertion point is visible) or not, in
which case it has an <em>extent</em> indicating how big the selection is. This class
has no UI logic in it.</p>
</li>
<li><p><strong>editor/mathpath.js</strong> A utility class that represents a path in an atom
tree to a specific atom</p>
</li>
<li><p><strong>editor/mathfield.js</strong> Public API for the editor. Implements the UI for the
mathfield, including mouse and touch interaction, and  the popover and the 
command bar</p>
</li>
<li><strong>editor/shortcuts.js</strong> Defines the keyboard shorcuts</li>
<li><strong>editor/commands.js</strong>: list of commands displayed in the command bar</li>
<li><strong>editor/popover.js</strong> Implements the popover panel</li>
<li><strong>editor/keyboard.js</strong> A utility class that captures keyboard events from 
a <em>Textarea</em> DOM element.</li>
<li><strong>editor/undo.js</strong> Implements the <em>Undo Manager</em> which keeps tracks of the 
state of the mathfield as it is being edited in order to support undo/redo.</li>
</ul>
<h2>Common Tasks</h2><p>So, you want to...</p>
<h3>Add a new LaTeX command?</h3><ol>
<li>Start with <code>core/definitions.js</code>. Add a new entry to the appropriate table.
The handler function in the definition will be called by the parser at the right
time. It's your chance to store data that will be used by the atoms to render
the symbold later.</li>
<li>If you can use the existing atom types, great. If needed, modify an 
existing atom type to support what you want, including passing additional 
parameters. If no atom types match, create a new one by adding a new
<code>MathAtom.decompose&lt;atom-type&gt;()</code> function and calling it from 
<code>MathAtom.decompose()</code>.</li>
<li>Call <code>makeSpan()</code> and its variants in your decompose function to construct
a representation of the atom.</li>
</ol></article>
    </section>






</div>

<br class="clear">

<footer>
    Doc created  on 2017-06-16T06:34:52.947Z
    by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
    using a customized <a href="https://www.npmjs.com/package/namis">Namis</a> theme.
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/jquery.nicescroll/3.6.0/jquery.nicescroll.min.js"></script> -->
<script src="scripts/namis.search.jquery.js"></script>
<script>prettyPrint();

(function($){
/*
    $('nav').niceScroll({
        cursorwidth: 7,
        hwacceleration: true,
        cursorcolor: "#036564",
        cursorborder: "1px solid #036564"
    });

    $('html').niceScroll({
        cursorwidth: 10,
        hwacceleration: true,
        smoothscroll: true,
        cursorminheight: 32,
        enablemousewheel: true, // nicescroll can manage mouse wheel events
        enablekeyboard: true // nicescroll can manage keyboard events
        ,cursorcolor: "#033649"
    });
*/
    $('#nav').search(['className', 'methodName']);
})(jQuery);
</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>